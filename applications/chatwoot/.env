# Production environment configuration for Chatwoot
# Copy from .env.example and customize

# Rails production settings
RAILS_ENV=production
SECRET_KEY_BASE=your_generated_secret_key_base_here

# Active Record Encryption (generate with rails db:encryption:init)
ACTIVE_RECORD_ENCRYPTION_PRIMARY_KEY=
ACTIVE_RECORD_ENCRYPTION_DETERMINISTIC_KEY=
ACTIVE_RECORD_ENCRYPTION_KEY_DERIVATION_SALT=

# Frontend URL - CHANGE THIS TO YOUR DOMAIN OR SERVER IP
# For LAN access you can use the server IP and HTTP, for example:
#   FRONTEND_URL=http://192.168.1.42:3000
# For public/production use HTTPS and your domain:
#   FRONTEND_URL=https://chat.yourdomain.com
FRONTEND_URL=http://<SERVER_IP>:3000

# Default locale
DEFAULT_LOCALE=en

# Account signup - set to true for public installations
ENABLE_ACCOUNT_SIGNUP=false

# Redis configuration (containerized)
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=secure_redis_password_123

# PostgreSQL configuration (containerized)
POSTGRES_HOST=chatwoot-postgres-1
POSTGRES_USER=postgres
POSTGRES_USERNAME=postgres
PGUSER=postgres
POSTGRES_PASSWORD=secure_postgres_password_456
POSTGRES_DB=chatwoot

# Email configuration - configure SMTP or use Postfix
MAILER_SENDER_EMAIL=Chatwoot <noreply@yourdomain.com>
SMTP_DOMAIN=yourdomain.com
# Example SMTP configuration (uncomment and customize):
# SMTP_ADDRESS=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_AUTHENTICATION=plain
# SMTP_ENABLE_STARTTLS_AUTO=true

# Storage - use cloud storage for production
ACTIVE_STORAGE_SERVICE=local
# For S3 (recommended for production):
# ACTIVE_STORAGE_SERVICE=amazon
# S3_BUCKET_NAME=your-chatwoot-bucket
# AWS_ACCESS_KEY_ID=your_aws_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret
# AWS_REGION=us-east-1

# Logging
RAILS_LOG_TO_STDOUT=true
LOG_LEVEL=info
LOG_SIZE=1024

# Security
ENABLE_RACK_ATTACK=true
RACK_ATTACK_ALLOWED_IPS=127.0.0.1,::1

# Performance
RAILS_MAX_THREADS=5
SIDEKIQ_CONCURRENCY=10

# Other settings can be left as default or configured as needed